{"version":3,"sources":["web3gl/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["web3","window","web3gl","login","loginMessage","callContract","callResponse","sendContract","onboard","Onboard","dappId","networkName","web3NetworkName","networkId","web3NetworkId","subscriptions","wallet","Web3","provider","console","log","name","walletSelect","wallets","walletName","preferred","infuraKey","a","walletCheck","signMessage","eth","getAccounts","from","expiration","Math","round","Date","now","toString","message","personal","sign","signature","method","abi","contract","args","Contract","JSON","parse","methods","call","response","value","send","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4eAGIA,E,yGA8BJC,OAAOC,OAAS,CACdC,M,2CACAC,aAAc,GACdC,a,kDACAC,aAAc,GACdC,a,qDAIF,IAAMC,EAAUC,YAAQ,CACtBC,OAAQ,uCACRC,YAAaV,OAAOW,gBACpBC,UAAWZ,OAAOa,cAClBC,cAAe,CACbC,OAAQ,SAACA,GACPhB,EAAO,IAAIiB,IAAKD,EAAOE,UACvBC,QAAQC,IAAR,UAAeJ,EAAOK,KAAtB,wBAGJC,aAAc,CACZC,QAAS,CACP,CAAEC,WAAY,WAAYC,WAAW,GACrC,CACED,WAAY,gBACZE,UAAW,mCACXD,WAAW,GAEb,CAAED,WAAY,QAASC,WAAW,O,4CAOxC,sBAAAE,EAAA,+EAEUnB,EAAQc,eAFlB,uBAGUd,EAAQoB,cAHlB,uBAKuCC,IALvC,OAKI5B,OAAOC,OAAOE,aALlB,OAMIe,QAAQC,IAAInB,OAAOC,OAAOE,cAN9B,kDAQIe,QAAQC,IAAR,MARJ,2D,+BAaeS,I,2EAAf,kCAAAF,EAAA,sEAC8B3B,EAAK8B,IAAIC,cADvC,cACQC,EADR,OACsD,GAC9CC,EAAqBC,KAAKC,MAAMC,KAAKC,MAAQ,IAAO,KAAKC,WACzDC,EAHR,UAG6BP,EAH7B,YAGqCC,GAHrC,SAIkCjC,EAAK8B,IAAIU,SAASC,KAAKF,EAASP,EAAM,IAJxE,cAIQU,EAJR,mCAKYA,EALZ,YAKyBH,IALzB,4C,kEAgBA,WACEI,EACAC,EACAC,EACAC,GAJF,iBAAAnB,EAAA,uEAMyB,MAAI3B,EAAK8B,IAAIiB,SAClCC,KAAKC,MAAML,GACXC,GACAK,SAAQP,GAHa,oBAGFK,KAAKC,MAAMH,KAAOK,OATzC,OAMQC,EANR,OAUEjC,QAAQC,IAAIgC,GACZnD,OAAOC,OAAOI,aAAe8C,EAASd,WAXxC,4C,kEAuBA,WACEK,EACAC,EACAC,EACAC,EACAO,GALF,mBAAA1B,EAAA,6DAOER,QAAQC,IAAI,CAAEuB,SAAQC,MAAKC,WAAUC,OAAMO,UAP7C,SAQsBrD,EAAK8B,IAAIC,cAR/B,cAQQC,EARR,OAQ8C,GAR9C,UASyB,MAAIhC,EAAK8B,IAAIiB,SAClCC,KAAKC,MAAML,GACXC,GACAK,SAAQP,GAHa,oBAGFK,KAAKC,MAAMH,KAAOQ,KAAK,CAAEtB,OAAMqB,UAZtD,OASQD,EATR,OAaEjC,QAAQC,IAAIgC,GAbd,4C,kCCjHeG,MAJf,WACE,OAAO,yBCWMC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,gCAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.8ab1315b.chunk.js","sourcesContent":["import Onboard from \"bnc-onboard\";\nimport Web3 from \"web3\";\n\nlet web3: Web3;\n\n// declare types\ndeclare global {\n  interface Window {\n    web3NetworkName: string; // network.js\n    web3NetworkId: number; // network.js\n    web3gl: Web3GL;\n  }\n}\ninterface Web3GL {\n  login: () => void;\n  loginMessage: string;\n  callContract: (\n    method: string,\n    abi: string,\n    contract: string,\n    args: string\n  ) => void;\n  callResponse: string;\n  sendContract: (\n    method: string,\n    abi: string,\n    contract: string,\n    args: string,\n    value: string\n  ) => void;\n}\n\n// global variables\nwindow.web3gl = {\n  login,\n  loginMessage: \"\",\n  callContract,\n  callResponse: \"\",\n  sendContract,\n};\n\n// https://docs.blocknative.com/onboard\nconst onboard = Onboard({\n  dappId: \"abfa7356-64c3-4047-a6e1-cdb39a0c691e\",\n  networkName: window.web3NetworkName, // from network.js\n  networkId: window.web3NetworkId, // from network.js\n  subscriptions: {\n    wallet: (wallet) => {\n      web3 = new Web3(wallet.provider);\n      console.log(`${wallet.name} is now connected`);\n    },\n  },\n  walletSelect: {\n    wallets: [\n      { walletName: \"metamask\", preferred: true },\n      {\n        walletName: \"walletConnect\",\n        infuraKey: \"6429a308b4d646399b1ea170bb406c61\",\n        preferred: true,\n      },\n      { walletName: \"torus\", preferred: true },\n    ],\n  },\n});\n\n\n// call window.web3gl.login() to display onboardjs modal\nasync function login() {\n  try {\n    await onboard.walletSelect();\n    await onboard.walletCheck();\n    // save login message for unity to access\n    window.web3gl.loginMessage = await signMessage();\n    console.log(window.web3gl.loginMessage);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// sign message to verify user address.\nasync function signMessage() {\n  const from: string = (await web3.eth.getAccounts())[0];\n  const expiration: string = Math.round(Date.now() / 1000 + 300).toString();\n  const message: string = `${from}-${expiration}`;\n  const signature: string = await web3.eth.personal.sign(message, from, \"\");\n  return `${signature}-${message}`;\n}\n\n/*\ncalls any contract method\nconst method = \"balanceOf\"\nconst abi = [ { inputs: [ { internalType: \"address\", name: \"account\", type: \"address\" }, { internalType: \"uint256\", name: \"id\", type: \"uint256\" }, ], name: \"balanceOf\", outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }], stateMutability: \"view\", type: \"function\", }, ];\nconst contract = \"0x2ebecabbbe8a8c629b99ab23ed154d74cd5d4342\"\nconst args = [\"0x72b8Df71072E38E8548F9565A322B04b9C752932\", 17]\nwindow.web3gl.callContract(abi, contract, args)\n*/\nasync function callContract(\n  method: string,\n  abi: string,\n  contract: string,\n  args: string\n) {\n  const response = await new web3.eth.Contract(\n    JSON.parse(abi),\n    contract\n  ).methods[method](...JSON.parse(args)).call();\n  console.log(response);\n  window.web3gl.callResponse = response.toString();\n}\n\n/*\nsend eth and call any contract\nconst method = \"increment\"\nconst abi = [ { \"inputs\": [], \"name\": \"increment\", \"outputs\": [], \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"inputs\": [], \"name\": \"x\", \"outputs\": [ { \"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\" } ], \"stateMutability\": \"view\", \"type\": \"function\" } ]\nconst contract = \"0xB6B8bB1e16A6F73f7078108538979336B9B7341C\"\nconst args = []\nconst value = \"0\"\nwindow.web3gl.callContract(abi, contract, args)\n*/\nasync function sendContract(\n  method: string,\n  abi: string,\n  contract: string,\n  args: string,\n  value: string\n) {\n  console.log({ method, abi, contract, args, value });\n  const from = (await web3.eth.getAccounts())[0];\n  const response = await new web3.eth.Contract(\n    JSON.parse(abi),\n    contract\n  ).methods[method](...JSON.parse(args)).send({ from, value });\n  console.log(response);\n}\n","import \"./web3gl\"\n\nfunction App() {\n  return <div></div>;\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}